<h1>Valves</h1>
<table class="table">
	<thead>
		<tr>
			<th>Name</th>
			<th>Auto</th>
			<th>Close</th>
			<th>Open</th>
			<!-- th>Closed</th>
            <th>Opened</th-->
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let valve of valves" [ngClass]="getRowClass(valve)">
			<th>{{valve.getName()}}</th>
			<td><button class="btn btn-default" disabled>Auto</button></td>
			<td><button class="btn btn-default" (mousedown)="startClosingValve(valve)" (mouseup)="stopClosingValve(valve)">Close</button></td>
			<td><button class="btn btn-default" (mousedown)="startOpeningValve(valve)" (mouseup)="stopOpeningValve(valve)">Open</button></td>
			<!-- td class="danger">{{valve.getStatus()}}</td>
            <td class="success"></td-->
		</tr>
	</tbody>
</table>

<br />

<h1>Controllers</h1>

<div *ngFor="let pidController of pidControllers">
	<div>{{pidController.name}}</div>

	<button class="btn btn-md" (click)="changePidCtrlMode(config.mode)">{{config.mode}}</button>

	<table class="table table-striped">
		<thead>
			<tr>
				<th style="width: 20%"> </th>
					<th style="width: 10%">Act. Value </th>
					<th style="width: 70%">New Value </th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><label>Temp:</label></td>
				<td><span>{{ pidController.temperature | number:'2.1-2' }} C</span></td>
			</tr>
			<tr>
				<td><label>Set Point:</label></td>
				<td><span>{{config.setPoint}}</span></td>
				<td><input [(ngModel)]="config.setPoint" type="number"></td>
			</tr>
			<tr>
				<td><label>Output:</label></td>
				<td><span>{{config.output}}</span></td>
				<td><input [(ngModel)]="config.output" type="number"></td>
			</tr>
			<tr>
				<td><label>Kp:</label></td>
				<td><span>{{config.kp}}</span></td>
				<td><input [(ngModel)]="config.kp" type="number"></td>
			</tr>
			<tr>
				<td><label>Ki:</label></td>
				<td><span>{{config.ki}}</span></td>
				<td><input [(ngModel)]="config.ki" type="number"></td>
			</tr>
			<tr>
				<td><label>Kd:</label></td>
				<td><span>{{config.kd}}</span></td>
				<td><input [(ngModel)]="config.kd" type="number"></td>
			</tr>
			<tr>
				<td><button class="btn btn-block" (click)="setPidController()">Set</button></td>
			</tr>
		</tbody>
	</table>
</div>

<br />

<h1>Pumps</h1>
<table class="table table-striped">
	<thead>
		<tr>
			<th>Name</th>
			<th>Auto</th>
			<th>Stop</th>
			<th>Start</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let motor of motors">
			<td>{{motor.getName()}}</td>
			<td><button class="btn btn-default" disabled>Auto</button></td>
			<td><button class="btn btn-default" (click)="stopMotor(motor)">Stop</button></td>
			<td><button class="btn btn-default" (click)="startMotor(motor)">Start</button></td>
			</tr>
	</tbody>
</table>